<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Shrun.Configuration</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">shrun-0.9: A utility program for running shell commands concurrently.</span><ul class="links" id="page-menu"><li><a href="src/Shrun.Configuration.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>GHC2021</td></tr></table><p class="caption">Shrun.Configuration</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:mergeConfig">mergeConfig</a> :: (<a href="Shrun-Prelude.html#t:HasCallStack" title="Shrun.Prelude">HasCallStack</a>, <a href="Shrun-Prelude.html#t:MonadTerminal" title="Shrun.Prelude">MonadTerminal</a> m, <a href="Shrun-Prelude.html#t:MonadThrow" title="Shrun.Prelude">MonadThrow</a> m) =&gt; <a href="Shrun-Configuration-Args-Parsing.html#t:Args" title="Shrun.Configuration.Args.Parsing">Args</a> -&gt; <a href="Shrun-Prelude.html#t:Maybe" title="Shrun.Prelude">Maybe</a> <a href="Shrun-Configuration-Toml.html#t:Toml" title="Shrun.Configuration.Toml">Toml</a> -&gt; m <a href="Shrun-Configuration-Data-MergedConfig.html#t:MergedConfig" title="Shrun.Configuration.Data.MergedConfig">MergedConfig</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:mergeConfig" class="def">mergeConfig</a> :: (<a href="Shrun-Prelude.html#t:HasCallStack" title="Shrun.Prelude">HasCallStack</a>, <a href="Shrun-Prelude.html#t:MonadTerminal" title="Shrun.Prelude">MonadTerminal</a> m, <a href="Shrun-Prelude.html#t:MonadThrow" title="Shrun.Prelude">MonadThrow</a> m) =&gt; <a href="Shrun-Configuration-Args-Parsing.html#t:Args" title="Shrun.Configuration.Args.Parsing">Args</a> -&gt; <a href="Shrun-Prelude.html#t:Maybe" title="Shrun.Prelude">Maybe</a> <a href="Shrun-Configuration-Toml.html#t:Toml" title="Shrun.Configuration.Toml">Toml</a> -&gt; m <a href="Shrun-Configuration-Data-MergedConfig.html#t:MergedConfig" title="Shrun.Configuration.Data.MergedConfig">MergedConfig</a> <a href="src/Shrun.Configuration.html#mergeConfig" class="link">Source</a> <a href="#v:mergeConfig" class="selflink">#</a></p><div class="doc"><p>Merges Args and Toml together, filling in necessary defaults and
 doing some light processing.</p><p>We want this function to do as much to prepare the final config as
 possible. For instance, in addition to filling in defaults, we also process
 commands via the legend (MonadThrow) and detect the terminal width for
 command logging's lineTrunc field (MonadTerminal).</p><p>This is very nearly pure, except for the aforementioned effects.
 The only remaining tasks the Env needs to take care of is IO that we
 really can't test anyway, such as opening file handles and creating
 queues.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.30.0</p></div></body></html>